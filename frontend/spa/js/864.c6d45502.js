"use strict";(self["webpackChunkveiculos"]=self["webpackChunkveiculos"]||[]).push([[864],{9585:(e,t,i)=>{i.d(t,{P:()=>s});var l=i(52),o=i.n(l);const c="http://localhost:8080";o().interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));const s=({method:e="GET",url:t,data:i,params:l,headers:s})=>o()({method:e,url:`${c}${t}`,data:i,params:l,headers:s})},8872:(e,t,i)=>{i.d(t,{Z:()=>o});var l=i(6417);const o=(e,t)=>{l.Z.create({progress:!0,message:t,color:"ok"===e?"positive":"erro"===e?"negative":"aviso"===e?"warning":"info",multiLine:!0,icon:"ok"===e?"sentiment_satisfied_alt":"erro"===e?"sentiment_very_dissatisfied":"aviso"===e?"warning":"info",actions:[{label:"Fechar",color:"white",handler:()=>{}}]})}},1864:(e,t,i)=>{i.r(t),i.d(t,{default:()=>f});var l=i(3673),o=i(2323);(0,l.dD)("data-v-e3d5a68e");const c={class:"container"},s={class:"q-mb-md"},n=(0,l.Uk)(" Listagem dos veículos "),a={class:"btn-new"},r={class:"customers"},d=(0,l._)("tr",null,[(0,l._)("th",null,"Veículo"),(0,l._)("th",null,"Marca"),(0,l._)("th",null,"Ano"),(0,l._)("th",{style:{width:"100px","text-align":"center"}},"Vendido"),(0,l._)("th",null,"Descrição"),(0,l._)("th")],-1),u={style:{width:"100px","text-align":"center"}},h={style:{width:"260px","text-align":"center"}};function m(e,t,i,m,v,w){const p=(0,l.up)("q-icon"),_=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("header",s,[(0,l.Wm)(p,{size:"25px",name:"list"}),n]),(0,l._)("div",a,[(0,l.Wm)(_,{class:"q-mb-sm",dense:"",color:"primary",icon:"add_circle",label:"adicionar veículo",onClick:w.clickNovoCadastro},null,8,["onClick"])]),(0,l._)("table",r,[d,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(v.veiculos,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",null,(0,o.zw)(e.veiculo),1),(0,l._)("td",null,(0,o.zw)(e.marca),1),(0,l._)("td",null,(0,o.zw)(e.ano),1),(0,l._)("td",u,(0,o.zw)(e.vendido?"SIM":"NÃO"),1),(0,l._)("td",null,(0,o.zw)(e.descricao),1),(0,l._)("td",h,[(0,l.Wm)(_,{style:{width:"110px"},class:"q-mr-sm",dense:"",color:"green",icon:"edit",label:"editar",onClick:t=>w.clickEditar(e)},null,8,["onClick"]),(0,l.Wm)(_,{style:{width:"110px"},dense:"",color:"red",icon:"delete",label:"excluir",onClick:t=>w.clickExcluir(e)},null,8,["onClick"])])])))),128))])])}(0,l.Cn)();var v=i(9585),w=i(8872),p=i(6249),_=i(7153);const k={name:"PageIndex",data(){return{veiculos:[]}},methods:{async carregaVeiculos(){p.Z.show(),await(0,v.P)({method:"GET",url:"/veiculos"}).then((e=>{this.veiculos=e.data})),p.Z.hide()},clickEditar(e){_.Z.set("@veiculo",JSON.stringify(e)),p.Z.show(),setTimeout((()=>{this.$router.push({name:"veiculo"}),p.Z.hide()}),300)},async clickExcluir(e){p.Z.show({message:"excluindo veículo..."}),await(0,v.P)({method:"DELETE",url:`/veiculos/${e.id}`}).then((()=>{(0,w.Z)("ok","Veículo excluído com sucesso!"),this.carregaVeiculos()})).catch((()=>p.Z.hide())),p.Z.hide()},clickNovoCadastro(){_.Z.remove("@veiculo"),this.$router.push({name:"veiculo"})}},created(){this.carregaVeiculos()}};var g=i(4554),x=i(8240),Z=i(7518),b=i.n(Z);k.render=m,k.__scopeId="data-v-e3d5a68e";const f=k;b()(k,"components",{QIcon:g.Z,QBtn:x.Z})}}]);